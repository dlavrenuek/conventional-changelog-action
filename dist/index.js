(()=>{var e={351:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const o=i(r(37));const a=r(278);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+o.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const u="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=u+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${u}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},186:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(351);const u=r(717);const c=r(278);const l=i(r(37));const f=i(r(17));var p;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(p=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=c.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${l.EOL}${r}${l.EOL}${t}`;u.issueCommand("ENV",n)}else{a.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){u.issueCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));return r}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const s=getInput(e,t);if(r.includes(s))return true;if(n.includes(s))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(l.EOL);a.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=p.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e){a.issue("error",e instanceof Error?e.toString():e)}t.error=error;function warning(e){a.issue("warning",e instanceof Error?e.toString():e)}t.warning=warning;function info(e){process.stdout.write(e+l.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return o(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){a.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState},717:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const o=i(r(147));const a=i(r(37));const u=r(278);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!o.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}o.appendFileSync(r,`${u.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue},523:(e,t,r)=>{const n=r(20);const{toConventionalChangelogFormat:s}=r(269);e.exports={parser:n,toConventionalChangelogFormat:s}},745:e=>{e.exports={CR:"\r",LF:"\n",ZWNBSP:"\ufeff",TAB:"\t",VT:"\v",FF:"\f",SP:" ",NBSP:"Â "}},20:(e,t,r)=>{const n=r(44);const{isWhitespace:s,isNewline:i,isParens:o}=r(915);function message(e){const t=new n(e.trim());const r=t.enter("message",[]);const s=summary(t);if(s instanceof Error){throw s}else{r.children.push(s)}if(t.eof()){return t.exit(r)}let i;let o;i=newline(t);if(i instanceof Error){throw i}else{r.children.push(i);o=body(t);if(o instanceof Error){o=null}else{r.children.push(o)}}if(t.eof()){return t.exit(r)}if(o){i=newline(t);if(i instanceof Error){throw i}else{r.children.push(i)}}while(!t.eof()){const e=footer(t);if(e instanceof Error){break}else{r.children.push(e)}i=newline(t);if(i instanceof Error){break}else{r.children.push(i)}}return t.exit(r)}function summary(e){const t=e.enter("summary",[]);const r=type(e);if(r instanceof Error){return r}else{t.children.push(r)}let n=scope(e);if(n instanceof Error){n=null}else{t.children.push(n)}let s=breakingChange(e);if(s instanceof Error){s=null}else{t.children.push(s)}const i=separator(e);if(i instanceof Error){return e.abort(t,[!n&&"(",!s&&"!",":"])}else{t.children.push(i)}const o=whitespace(e);if(!(o instanceof Error)){t.children.push(o)}t.children.push(text(e));return e.exit(t)}function type(e){const t=e.enter("type","");while(!e.eof()){const r=e.peek();if(o(r)||s(r)||i(r)||r==="!"||r===":"){break}t.value+=e.next()}if(t.value===""){return e.abort(t)}else{return e.exit(t)}}function text(e){const t=e.enter("text","");while(!e.eof()){const r=e.peek();if(i(r)){break}t.value+=e.next()}return e.exit(t)}function scope(e){if(e.peek()!=="("){return e.abort(e.enter("scope",""))}else{e.next()}const t=e.enter("scope","");while(!e.eof()){const r=e.peek();if(o(r)||i(r)){break}t.value+=e.next()}if(e.peek()!==")"){throw e.abort(t,[")"])}else{e.exit(t);e.next()}if(t.value===""){return e.abort(t)}else{return t}}function body(e){const t=e.enter("body",[]);const r=preFooter(e);if(!(r instanceof Error))return e.abort(t);const n=breakingChange(e,false);if(!(n instanceof Error)&&e.peek()===":"){t.children.push(n);t.children.push(separator(e));const r=whitespace(e);if(!(r instanceof Error))t.children.push(r)}const s=text(e);t.children.push(s);const i=newline(e);if(!(i instanceof Error)){const r=body(e);if(r instanceof Error){e.abort(i)}else{t.children.push(i);Array.prototype.push.apply(t.children,r.children)}}return e.exit(t)}function preFooter(e){const t=e.enter("pre-footer",[]);let r;while(!e.eof()){newline(e);r=footer(e);if(r instanceof Error)return e.abort(t)}return e.exit(t)}function footer(e){const t=e.enter("footer",[]);const r=token(e);if(r instanceof Error){return r}else{t.children.push(r)}const n=separator(e);if(n instanceof Error){e.abort(t);return n}else{t.children.push(n)}const s=whitespace(e);if(!(s instanceof Error)){t.children.push(s)}const i=value(e);if(i instanceof Error){e.abort(t);return i}else{t.children.push(i)}return e.exit(t)}function token(e){const t=e.enter("token",[]);const r=breakingChange(e);if(r instanceof Error){e.abort(t)}else{t.children.push(r);return e.exit(t)}const n=type(e);if(n instanceof Error){return n}else{t.children.push(n);const r=scope(e);if(!(r instanceof Error)){t.children.push(r)}const s=breakingChange(e);if(!(s instanceof Error)){t.children.push(s)}}return e.exit(t)}function breakingChange(e,t=true){const r=e.enter("breaking-change","");if(e.peek()==="!"&&t){r.value=e.next()}else if(e.peekLiteral("BREAKING CHANGE")||e.peekLiteral("BREAKING-CHANGE")){r.value=e.next("BREAKING CHANGE".length)}if(r.value===""){return e.abort(r,["BREAKING CHANGE"])}else{return e.exit(r)}}function value(e){const t=e.enter("value",[]);t.children.push(text(e));let r;while(!((r=continuation(e))instanceof Error)){t.children.push(r)}return e.exit(t)}function continuation(e){const t=e.enter("continuation",[]);const r=newline(e);if(r instanceof Error){return r}else{t.children.push(r)}const n=whitespace(e);if(n instanceof Error){e.abort(t);return n}else{t.children.push(n);t.children.push(text(e))}return e.exit(t)}function separator(e){const t=e.enter("separator","");if(e.peek()===":"){t.value=e.next();return e.exit(t)}if(e.peek()===" "){e.next();if(e.peek()==="#"){e.next();t.value=" #";return e.exit(t)}else{return e.abort(t)}}return e.abort(t)}function whitespace(e){const t=e.enter("whitespace","");while(s(e.peek())){t.value+=e.next()}if(t.value===""){return e.abort(t,[" "])}return e.exit(t)}function newline(e){const t=e.enter("newline","");while(i(e.peek())){t.value+=e.next()}if(t.value===""){return e.abort(t,["<CR><LF>","<LF>"])}return e.exit(t)}e.exports=message},44:(e,t,r)=>{const{isNewline:n}=r(915);const{CR:s,LF:i}=r(745);class Scanner{constructor(e,t){this.text=e;this.pos=t?{...t}:{line:1,column:1,offset:0}}eof(){return this.pos.offset>=this.text.length}next(e){const t=e?this.text.substring(this.pos.offset,this.pos.offset+e):this.peek();this.pos.offset+=t.length;this.pos.column+=t.length;if(n(t)){this.pos.line++;this.pos.column=1}return t}peek(){let e=this.text.charAt(this.pos.offset);if(e===s&&this.text.charAt(this.pos.offset+1)===i){e+=i}return e}peekLiteral(e){const t=this.text.substring(this.pos.offset,this.pos.offset+e.length);return e===t}position(){return{...this.pos}}rewind(e){this.pos=e}enter(e,t){const r={start:this.position()};return Array.isArray(t)?{type:e,children:t,position:r}:{type:e,value:t,position:r}}exit(e){e.position.end=this.position();return e}abort(e,t){const r=`${this.pos.line}:${this.pos.column}`;const n=t?t.filter(Boolean).join(", "):`<${e.type}>`;const s=this.eof()?Error(`unexpected token EOF at ${r}, valid tokens [${n}]`):Error(`unexpected token '${this.peek()}' at ${r}, valid tokens [${n}]`);this.rewind(e.position.start);return s}}e.exports=Scanner},915:(e,t,r)=>{const{CR:n,LF:s,ZWNBSP:i,TAB:o,VT:a,FF:u,SP:c,NBSP:l}=r(745);e.exports={isWhitespace(e){return e===i||e===o||e===a||e===u||e===c||e===l},isNewline(e){const t=e.charAt(0);if(t===n||t===s)return true},isParens(e){return e==="("||e===")"}}},269:(e,t,r)=>{const n=r(199);const s=r(246);const i=/^[0-9]+$/;function toConventionalChangelogFormat(e){const t={body:"",subject:"",type:"",scope:null,notes:[],references:[],mentions:[],merge:null,revert:null,header:"",footer:null};let r;let o;n(e,["body","summary"],(e=>{switch(e.type){case"body":r=e;break;case"summary":o=e;break}}));n(o,(e=>{switch(e.type){case"type":t.type=e.value;t.header+=e.value;break;case"scope":t.scope=e.value;t.header+=`(${e.value})`;break;case"breaking-change":t.header+="!";break;case"text":t.subject=e.value;t.header+=`: ${e.value}`;break;default:break}}));if(r){n(r,"text",((e,r,n)=>{if(t.body!=="")t.body+="\n";t.body+=e.value}))}const a={title:"BREAKING CHANGE",text:""};s(e,["breaking-change"],((e,r)=>{let s=r.pop();let i=false;switch(s.type){case"summary":a.text=t.subject;break;case"body":a.text="";n(s,["text","breaking-change"],(e=>{if(i&&e.type==="text"){if(a.text!=="")a.text+="\n";a.text+=e.value}else if(e.type==="breaking-change"){i=true}}));break;case"token":s=r.pop();n(s,"text",(e=>{a.text=e.value}));break}}));if(a.text!=="")t.notes.push(a);n(e,["footer"],(e=>{const r={prefix:"#"};let s=false;n(e,["type","separator","text"],(e=>{switch(e.type){case"type":r.action=e.value;break;case"separator":if(e.value.includes("#"))s=true;break;case"text":if(e.value.charAt(0)==="#"){s=true;r.issue=e.value.substring(1)}else{r.issue=e.value}break}}));if(s&&r.issue.match(i)){t.references.push(r)}}));return t}e.exports={toConventionalChangelogFormat:toConventionalChangelogFormat}},751:(e,t,r)=>{"use strict";function __export(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});__export(r(825))},825:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const s=r(147);const i=n(r(237));const o=i.default("@kwsites/file-exists");function check(e,t,r){o(`checking %s`,e);try{const n=s.statSync(e);if(n.isFile()&&t){o(`[OK] path represents a file`);return true}if(n.isDirectory()&&r){o(`[OK] path represents a directory`);return true}o(`[FAIL] path represents something other than a file or directory`);return false}catch(e){if(e.code==="ENOENT"){o(`[FAIL] path is not accessible: %o`,e);return false}o(`[FATAL] %o`,e);throw e}}function exists(e,r=t.READABLE){return check(e,(r&t.FILE)>0,(r&t.FOLDER)>0)}t.exists=exists;t.FILE=1;t.FOLDER=2;t.READABLE=t.FILE+t.FOLDER},819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDeferred=t.deferred=void 0;function deferred(){let e;let t;let r="pending";const n=new Promise(((r,n)=>{e=r;t=n}));return{promise:n,done(t){if(r==="pending"){r="resolved";e(t)}},fail(e){if(r==="pending"){r="rejected";t(e)}},get fulfilled(){return r!=="pending"},get status(){return r}}}t.deferred=deferred;t.createDeferred=deferred;t["default"]=deferred},222:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){s=n}}));t.splice(s,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(243)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},243:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(900);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let s;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const s=n-(t||n);r.diff=s;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}i++;const s=createDebug.formatters[n];if(typeof s==="function"){const n=e[i];t=s.call(r,n);e.splice(i,1);i--}return t}));createDebug.formatArgs.call(r,e);const o=r.log||createDebug.log;o.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;s=createDebug.enabled(e)}return s},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.slice(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},237:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(222)}else{e.exports=r(332)}},332:(e,t,r)=>{const n=r(224);const s=r(837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(318);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const s="[3"+(n<8?n:"8;5;"+n);const i=`  ${s};1m${r} [0m`;t[0]=i+t[0].split("\n").join("\n"+i);t.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(s.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(243)(t);const{formatters:i}=e.exports;i.o=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};i.O=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts)}},621:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}},900:e=>{var t=1e3;var r=t*60;var n=r*60;var s=n*24;var i=s*7;var o=s*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var u=parseFloat(a[1]);var c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*s;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return undefined}}function fmtShort(e){var i=Math.abs(e);if(i>=s){return Math.round(e/s)+"d"}if(i>=n){return Math.round(e/n)+"h"}if(i>=r){return Math.round(e/r)+"m"}if(i>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var i=Math.abs(e);if(i>=s){return plural(e,i,s,"day")}if(i>=n){return plural(e,i,n,"hour")}if(i>=r){return plural(e,i,r,"minute")}if(i>=t){return plural(e,i,t,"second")}return e+" ms"}function plural(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}},103:(e,t,r)=>{var n=Object.create;var s=Object.defineProperty;var i=Object.defineProperties;var o=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertyNames;var c=Object.getOwnPropertySymbols;var l=Object.getPrototypeOf;var f=Object.prototype.hasOwnProperty;var p=Object.prototype.propertyIsEnumerable;var __defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:true,configurable:true,writable:true,value:r}):e[t]=r;var __spreadValues=(e,t)=>{for(var r in t||(t={}))if(f.call(t,r))__defNormalProp(e,r,t[r]);if(c)for(var r of c(t)){if(p.call(t,r))__defNormalProp(e,r,t[r])}return e};var __spreadProps=(e,t)=>i(e,a(t));var __markAsModule=e=>s(e,"__esModule",{value:true});var __esm=(e,t)=>function __init(){return e&&(t=(0,e[u(e)[0]])(e=0)),t};var __commonJS=(e,t)=>function __require(){return t||(0,e[u(e)[0]])((t={exports:{}}).exports,t),t.exports};var __export=(e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:true})};var __reExport=(e,t,r,n)=>{if(t&&typeof t==="object"||typeof t==="function"){for(let i of u(t))if(!f.call(e,i)&&(r||i!=="default"))s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable})}return e};var __toESM=(e,t)=>__reExport(__markAsModule(s(e!=null?n(l(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:true}:{value:e,enumerable:true})),e);var d=(e=>(t,r)=>e&&e.get(t)||(r=__reExport(__markAsModule({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!=="undefined"?new WeakMap:0);var __async=(e,t,r)=>new Promise(((n,s)=>{var fulfilled=e=>{try{step(r.next(e))}catch(e){s(e)}};var rejected=e=>{try{step(r.throw(e))}catch(e){s(e)}};var step=e=>e.done?n(e.value):Promise.resolve(e.value).then(fulfilled,rejected);step((r=r.apply(e,t)).next())}));var h;var g=__esm({"src/lib/errors/git-error.ts"(){h=class extends Error{constructor(e,t){super(t);this.task=e;Object.setPrototypeOf(this,new.target.prototype)}}}});var m;var v=__esm({"src/lib/errors/git-response-error.ts"(){g();m=class extends h{constructor(e,t){super(void 0,t||String(e));this.git=e}}}});var b;var y=__esm({"src/lib/errors/git-construct-error.ts"(){g();b=class extends h{constructor(e,t){super(void 0,t);this.config=e}}}});var k;var T=__esm({"src/lib/errors/git-plugin-error.ts"(){g();k=class extends h{constructor(e,t,r){super(e,r);this.task=e;this.plugin=t;Object.setPrototypeOf(this,new.target.prototype)}}}});var w;var C=__esm({"src/lib/errors/task-configuration-error.ts"(){g();w=class extends h{constructor(e){super(void 0,e)}}}});function asFunction(e){return typeof e==="function"?e:O}function isUserFunction(e){return typeof e==="function"&&e!==O}function splitOn(e,t){const r=e.indexOf(t);if(r<=0){return[e,""]}return[e.substr(0,r),e.substr(r+1)]}function first(e,t=0){return isArrayLike(e)&&e.length>t?e[t]:void 0}function last(e,t=0){if(isArrayLike(e)&&e.length>t){return e[e.length-1-t]}}function isArrayLike(e){return!!(e&&typeof e.length==="number")}function toLinesWithContent(e="",t=true,r="\n"){return e.split(r).reduce(((e,r)=>{const n=t?r.trim():r;if(n){e.push(n)}return e}),[])}function forEachLineWithContent(e,t){return toLinesWithContent(e,true).map((e=>t(e)))}function folderExists(e){return(0,_.exists)(e,_.FOLDER)}function append(e,t){if(Array.isArray(e)){if(!e.includes(t)){e.push(t)}}else{e.add(t)}return t}function including(e,t){if(Array.isArray(e)&&!e.includes(t)){e.push(t)}return e}function remove(e,t){if(Array.isArray(e)){const r=e.indexOf(t);if(r>=0){e.splice(r,1)}}else{e.delete(t)}return t}function asArray(e){return Array.isArray(e)?e:[e]}function asStringArray(e){return asArray(e).map(String)}function asNumber(e,t=0){if(e==null){return t}const r=parseInt(e,10);return isNaN(r)?t:r}function prefixedArray(e,t){const r=[];for(let n=0,s=e.length;n<s;n++){r.push(t,e[n])}return r}function bufferToString(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function pick(e,t){return Object.assign({},...t.map((t=>t in e?{[t]:e[t]}:{})))}function delay(e=0){return new Promise((t=>setTimeout(t,e)))}var _,x,O,E;var S=__esm({"src/lib/utils/util.ts"(){_=r(751);x="\0";O=()=>{};E=Object.prototype.toString.call.bind(Object.prototype.toString)}});function filterType(e,t,r){if(t(e)){return e}return arguments.length>2?r:void 0}function filterPrimitives(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}function filterPlainObject(e){return!!e&&E(e)==="[object Object]"}function filterFunction(e){return typeof e==="function"}var R,F,A,P,D;var M=__esm({"src/lib/utils/argument-filters.ts"(){S();R=e=>Array.isArray(e);F=e=>typeof e==="string";A=e=>Array.isArray(e)&&e.every(F);P=e=>F(e)||Array.isArray(e)&&e.every(F);D=e=>{if(e==null||"number|boolean|function".includes(typeof e)){return false}return Array.isArray(e)||typeof e==="string"||typeof e.length==="number"}}});var L;var j=__esm({"src/lib/utils/exit-codes.ts"(){L=(e=>{e[e["SUCCESS"]=0]="SUCCESS";e[e["ERROR"]=1]="ERROR";e[e["UNCLEAN"]=128]="UNCLEAN";return e})(L||{})}});var I;var G=__esm({"src/lib/utils/git-output-streams.ts"(){I=class{constructor(e,t){this.stdOut=e;this.stdErr=t}asStrings(){return new I(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}});var N,B;var $=__esm({"src/lib/utils/line-parser.ts"(){N=class{constructor(e,t){this.matches=[];this.parse=(e,t)=>{this.resetMatches();if(!this._regExp.every(((t,r)=>this.addMatch(t,r,e(r))))){return false}return this.useMatches(t,this.prepareMatches())!==false};this._regExp=Array.isArray(e)?e:[e];if(t){this.useMatches=t}}useMatches(e,t){throw new Error(`LineParser:useMatches not implemented`)}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,r){const n=r&&e.exec(r);if(n){this.pushMatch(t,n)}return!!n}pushMatch(e,t){this.matches.push(...t.slice(1))}};B=class extends N{addMatch(e,t,r){return/^remote:\s/.test(String(r))&&super.addMatch(e,t,r)}pushMatch(e,t){if(e>0||t.length>1){super.pushMatch(e,t)}}}}});function createInstanceConfig(...e){const t=process.cwd();const r=Object.assign(__spreadValues({baseDir:t},U),...e.filter((e=>typeof e==="object"&&e)));r.baseDir=r.baseDir||t;return r}var U;var q=__esm({"src/lib/utils/simple-git-options.ts"(){U={binary:"git",maxConcurrentProcesses:5,config:[]}}});function appendTaskOptions(e,t=[]){if(!filterPlainObject(e)){return t}return Object.keys(e).reduce(((t,r)=>{const n=e[r];if(filterPrimitives(n,["boolean"])){t.push(r+"="+n)}else{t.push(r)}return t}),t)}function getTrailingOptions(e,t=0,r=false){const n=[];for(let r=0,s=t<0?e.length:t;r<s;r++){if("string|number".includes(typeof e[r])){n.push(String(e[r]))}}appendTaskOptions(trailingOptionsArgument(e),n);if(!r){n.push(...trailingArrayArgument(e))}return n}function trailingArrayArgument(e){const t=typeof last(e)==="function";return filterType(last(e,t?1:0),R,[])}function trailingOptionsArgument(e){const t=filterFunction(last(e));return filterType(last(e,t?1:0),filterPlainObject)}function trailingFunctionArgument(e,t=true){const r=asFunction(last(e));return t||isUserFunction(r)?r:void 0}var W=__esm({"src/lib/utils/task-options.ts"(){M();S()}});function callTaskParser(e,t){return e(t.stdOut,t.stdErr)}function parseStringResponse(e,t,...r){r.forEach((r=>{for(let n=toLinesWithContent(r),s=0,i=n.length;s<i;s++){const line=(e=0)=>{if(s+e>=i){return}return n[s+e]};t.some((({parse:t})=>t(line,e)))}}));return e}var H=__esm({"src/lib/utils/task-parser.ts"(){S()}});var V={};__export(V,{ExitCodes:()=>L,GitOutputStreams:()=>I,LineParser:()=>N,NOOP:()=>O,NULL:()=>x,RemoteLineParser:()=>B,append:()=>append,appendTaskOptions:()=>appendTaskOptions,asArray:()=>asArray,asFunction:()=>asFunction,asNumber:()=>asNumber,asStringArray:()=>asStringArray,bufferToString:()=>bufferToString,callTaskParser:()=>callTaskParser,createInstanceConfig:()=>createInstanceConfig,delay:()=>delay,filterArray:()=>R,filterFunction:()=>filterFunction,filterHasLength:()=>D,filterPlainObject:()=>filterPlainObject,filterPrimitives:()=>filterPrimitives,filterString:()=>F,filterStringArray:()=>A,filterStringOrStringArray:()=>P,filterType:()=>filterType,first:()=>first,folderExists:()=>folderExists,forEachLineWithContent:()=>forEachLineWithContent,getTrailingOptions:()=>getTrailingOptions,including:()=>including,isUserFunction:()=>isUserFunction,last:()=>last,objectToString:()=>E,parseStringResponse:()=>parseStringResponse,pick:()=>pick,prefixedArray:()=>prefixedArray,remove:()=>remove,splitOn:()=>splitOn,toLinesWithContent:()=>toLinesWithContent,trailingFunctionArgument:()=>trailingFunctionArgument,trailingOptionsArgument:()=>trailingOptionsArgument});var z=__esm({"src/lib/utils/index.ts"(){M();j();G();$();q();W();H();S()}});var K={};__export(K,{CheckRepoActions:()=>Q,checkIsBareRepoTask:()=>checkIsBareRepoTask,checkIsRepoRootTask:()=>checkIsRepoRootTask,checkIsRepoTask:()=>checkIsRepoTask});function checkIsRepoTask(e){switch(e){case"bare":return checkIsBareRepoTask();case"root":return checkIsRepoRootTask()}const t=["rev-parse","--is-inside-work-tree"];return{commands:t,format:"utf-8",onError:Y,parser:J}}function checkIsRepoRootTask(){const e=["rev-parse","--git-dir"];return{commands:e,format:"utf-8",onError:Y,parser(e){return/^\.(git)?$/.test(e.trim())}}}function checkIsBareRepoTask(){const e=["rev-parse","--is-bare-repository"];return{commands:e,format:"utf-8",onError:Y,parser:J}}function isNotRepoMessage(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var Q,Y,J;var X=__esm({"src/lib/tasks/check-is-repo.ts"(){z();Q=(e=>{e["BARE"]="bare";e["IN_TREE"]="tree";e["IS_REPO_ROOT"]="root";return e})(Q||{});Y=({exitCode:e},t,r,n)=>{if(e===128&&isNotRepoMessage(t)){return r(Buffer.from("false"))}n(t)};J=e=>e.trim()==="true"}});function cleanSummaryParser(e,t){const r=new Z(e);const n=e?te:ee;toLinesWithContent(t).forEach((e=>{const t=e.replace(n,"");r.paths.push(t);(re.test(t)?r.folders:r.files).push(t)}));return r}var Z,ee,te,re;var ne=__esm({"src/lib/responses/CleanSummary.ts"(){z();Z=class{constructor(e){this.dryRun=e;this.paths=[];this.files=[];this.folders=[]}};ee=/^[a-z]+\s*/i;te=/^[a-z]+\s+[a-z]+\s*/i;re=/\/$/}});var se={};__export(se,{EMPTY_COMMANDS:()=>ie,adhocExecTask:()=>adhocExecTask,configurationErrorTask:()=>configurationErrorTask,isBufferTask:()=>isBufferTask,isEmptyTask:()=>isEmptyTask,straightThroughBufferTask:()=>straightThroughBufferTask,straightThroughStringTask:()=>straightThroughStringTask});function adhocExecTask(e){return{commands:ie,format:"empty",parser:e}}function configurationErrorTask(e){return{commands:ie,format:"empty",parser(){throw typeof e==="string"?new w(e):e}}}function straightThroughStringTask(e,t=false){return{commands:e,format:"utf-8",parser(e){return t?String(e).trim():e}}}function straightThroughBufferTask(e){return{commands:e,format:"buffer",parser(e){return e}}}function isBufferTask(e){return e.format==="buffer"}function isEmptyTask(e){return e.format==="empty"||!e.commands.length}var ie;var oe=__esm({"src/lib/tasks/task.ts"(){C();ie=[]}});var ae={};__export(ae,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ue,CONFIG_ERROR_MODE_REQUIRED:()=>ce,CONFIG_ERROR_UNKNOWN_OPTION:()=>le,CleanOptions:()=>fe,cleanTask:()=>cleanTask,cleanWithOptionsTask:()=>cleanWithOptionsTask,isCleanOptionsArray:()=>isCleanOptionsArray});function cleanWithOptionsTask(e,t){const{cleanMode:r,options:n,valid:s}=getCleanOptions(e);if(!r){return configurationErrorTask(ce)}if(!s.options){return configurationErrorTask(le+JSON.stringify(e))}n.push(...t);if(n.some(isInteractiveMode)){return configurationErrorTask(ue)}return cleanTask(r,n)}function cleanTask(e,t){const r=["clean",`-${e}`,...t];return{commands:r,format:"utf-8",parser(t){return cleanSummaryParser(e==="n",t)}}}function isCleanOptionsArray(e){return Array.isArray(e)&&e.every((e=>pe.has(e)))}function getCleanOptions(e){let t;let r=[];let n={cleanMode:false,options:true};e.replace(/[^a-z]i/g,"").split("").forEach((e=>{if(isCleanMode(e)){t=e;n.cleanMode=true}else{n.options=n.options&&isKnownOption(r[r.length]=`-${e}`)}}));return{cleanMode:t,options:r,valid:n}}function isCleanMode(e){return e==="f"||e==="n"}function isKnownOption(e){return/^-[a-z]$/i.test(e)&&pe.has(e.charAt(1))}function isInteractiveMode(e){if(/^-[^\-]/.test(e)){return e.indexOf("i")>0}return e==="--interactive"}var ue,ce,le,fe,pe;var de=__esm({"src/lib/tasks/clean.ts"(){ne();z();oe();ue="Git clean interactive mode is not supported";ce='Git clean mode parameter ("n" or "f") is required';le="Git clean unknown option found in: ";fe=(e=>{e["DRY_RUN"]="n";e["FORCE"]="f";e["IGNORED_INCLUDED"]="x";e["IGNORED_ONLY"]="X";e["EXCLUDING"]="e";e["QUIET"]="q";e["RECURSIVE"]="d";return e})(fe||{});pe=new Set(["i",...asStringArray(Object.values(fe))])}});function configListParser(e){const t=new he;for(const r of configParser(e)){t.addValue(r.file,String(r.key),r.value)}return t}function configGetParser(e,t){let r=null;const n=[];const s=new Map;for(const i of configParser(e,t)){if(i.key!==t){continue}n.push(r=i.value);if(!s.has(i.file)){s.set(i.file,[])}s.get(i.file).push(r)}return{key:t,paths:Array.from(s.keys()),scopes:s,value:r,values:n}}function configFilePath(e){return e.replace(/^(file):/,"")}function*configParser(e,t=null){const r=e.split("\0");for(let e=0,n=r.length-1;e<n;){const n=configFilePath(r[e++]);let s=r[e++];let i=t;if(s.includes("\n")){const e=splitOn(s,"\n");i=e[0];s=e[1]}yield{file:n,key:i,value:s}}}var he;var ge=__esm({"src/lib/responses/ConfigList.ts"(){z();he=class{constructor(){this.files=[];this.values=Object.create(null)}get all(){if(!this._all){this._all=this.files.reduce(((e,t)=>Object.assign(e,this.values[t])),{})}return this._all}addFile(e){if(!(e in this.values)){const t=last(this.files);this.values[e]=t?Object.create(this.values[t]):{};this.files.push(e)}return this.values[e]}addValue(e,t,r){const n=this.addFile(e);if(!n.hasOwnProperty(t)){n[t]=r}else if(Array.isArray(n[t])){n[t].push(r)}else{n[t]=[n[t],r]}this._all=void 0}}}});function asConfigScope(e,t){if(typeof e==="string"&&me.hasOwnProperty(e)){return e}return t}function addConfigTask(e,t,r,n){const s=["config",`--${n}`];if(r){s.push("--add")}s.push(e,t);return{commands:s,format:"utf-8",parser(e){return e}}}function getConfigTask(e,t){const r=["config","--null","--show-origin","--get-all",e];if(t){r.splice(1,0,`--${t}`)}return{commands:r,format:"utf-8",parser(t){return configGetParser(t,e)}}}function listConfigTask(e){const t=["config","--list","--show-origin","--null"];if(e){t.push(`--${e}`)}return{commands:t,format:"utf-8",parser(e){return configListParser(e)}}}function config_default(){return{addConfig(e,t,...r){return this._runTask(addConfigTask(e,t,r[0]===true,asConfigScope(r[1],"local")),trailingFunctionArgument(arguments))},getConfig(e,t){return this._runTask(getConfigTask(e,asConfigScope(t,void 0)),trailingFunctionArgument(arguments))},listConfig(...e){return this._runTask(listConfigTask(asConfigScope(e[0],void 0)),trailingFunctionArgument(arguments))}}}var me;var ve=__esm({"src/lib/tasks/config.ts"(){ge();z();me=(e=>{e["system"]="system";e["global"]="global";e["local"]="local";e["worktree"]="worktree";return e})(me||{})}});function grepQueryBuilder(...e){return(new Te).param(...e)}function parseGrep(e){const t=new Set;const r={};forEachLineWithContent(e,(e=>{const[n,s,i]=e.split(x);t.add(n);(r[n]=r[n]||[]).push({line:asNumber(s),path:n,preview:i})}));return{paths:t,results:r}}function grep_default(){return{grep(e){const t=trailingFunctionArgument(arguments);const r=getTrailingOptions(arguments);for(const e of be){if(r.includes(e)){return this._runTask(configurationErrorTask(`git.grep: use of "${e}" is not supported.`),t)}}if(typeof e==="string"){e=grepQueryBuilder().param(e)}const n=["grep","--null","-n","--full-name",...r,...e];return this._runTask({commands:n,format:"utf-8",parser(e){return parseGrep(e)}},t)}}}var be,ye,ke,Te;var we=__esm({"src/lib/tasks/grep.ts"(){z();oe();be=["-h"];ye=Symbol("grepQuery");Te=class{constructor(){this[ke]=[]}*[(ke=ye,Symbol.iterator)](){for(const e of this[ye]){yield e}}and(...e){e.length&&this[ye].push("--and","(",...prefixedArray(e,"-e"),")");return this}param(...e){this[ye].push(...prefixedArray(e,"-e"));return this}}}});var Ce={};__export(Ce,{ResetMode:()=>_e,getResetMode:()=>getResetMode,resetTask:()=>resetTask});function resetTask(e,t){const r=["reset"];if(isValidResetMode(e)){r.push(`--${e}`)}r.push(...t);return straightThroughStringTask(r)}function getResetMode(e){if(isValidResetMode(e)){return e}switch(typeof e){case"string":case"undefined":return"soft"}return}function isValidResetMode(e){return xe.includes(e)}var _e,xe;var Oe=__esm({"src/lib/tasks/reset.ts"(){oe();_e=(e=>{e["MIXED"]="mixed";e["SOFT"]="soft";e["HARD"]="hard";e["MERGE"]="merge";e["KEEP"]="keep";return e})(_e||{});xe=Array.from(Object.values(_e))}});var Ee={};__export(Ee,{CheckRepoActions:()=>Q,CleanOptions:()=>fe,GitConfigScope:()=>me,GitConstructError:()=>b,GitError:()=>h,GitPluginError:()=>k,GitResponseError:()=>m,ResetMode:()=>_e,TaskConfigurationError:()=>w,grepQueryBuilder:()=>grepQueryBuilder});var Se=__esm({"src/lib/api.ts"(){y();g();T();v();C();X();de();ve();we();Oe()}});function commandConfigPrefixingPlugin(e){const t=prefixedArray(e,"-c");return{type:"spawn.args",action(e){return[...t,...e]}}}var Re=__esm({"src/lib/plugins/command-config-prefixing-plugin.ts"(){z()}});function completionDetectionPlugin({onClose:e=true,onExit:t=50}={}){function createEvents(){let r=-1;const n={close:(0,Fe.deferred)(),closeTimeout:(0,Fe.deferred)(),exit:(0,Fe.deferred)(),exitTimeout:(0,Fe.deferred)()};const s=Promise.race([e===false?Ae:n.closeTimeout.promise,t===false?Ae:n.exitTimeout.promise]);configureTimeout(e,n.close,n.closeTimeout);configureTimeout(t,n.exit,n.exitTimeout);return{close(e){r=e;n.close.done()},exit(e){r=e;n.exit.done()},get exitCode(){return r},result:s}}function configureTimeout(e,t,r){if(e===false){return}(e===true?t.promise:t.promise.then((()=>delay(e)))).then(r.done)}return{type:"spawn.after",action(e,t){return __async(this,arguments,(function*(e,{spawned:t,close:r}){var n,s;const i=createEvents();let o=true;let quickClose=()=>void(o=false);(n=t.stdout)==null?void 0:n.on("data",quickClose);(s=t.stderr)==null?void 0:s.on("data",quickClose);t.on("error",quickClose);t.on("close",(e=>i.close(e)));t.on("exit",(e=>i.exit(e)));try{yield i.result;if(o){yield delay(50)}r(i.exitCode)}catch(e){r(i.exitCode,e)}}))}}}var Fe,Ae;var Pe=__esm({"src/lib/plugins/completion-detection.plugin.ts"(){Fe=r(819);z();Ae=(0,Fe.deferred)().promise}});function isTaskError(e){return!!(e.exitCode&&e.stdErr.length)}function getErrorMessage(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function errorDetectionHandler(e=false,t=isTaskError,r=getErrorMessage){return(n,s)=>{if(!e&&n||!t(s)){return n}return r(s)}}function errorDetectionPlugin(e){return{type:"task.error",action(t,r){const n=e(t.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});if(Buffer.isBuffer(n)){return{error:new h(void 0,n.toString("utf-8"))}}return{error:n}}}}var De=__esm({"src/lib/plugins/error-detection.plugin.ts"(){g()}});var Me;var Le=__esm({"src/lib/plugins/plugin-store.ts"(){z();Me=class{constructor(){this.plugins=new Set}add(e){const t=[];asArray(e).forEach((e=>e&&this.plugins.add(append(t,e))));return()=>{t.forEach((e=>this.plugins.delete(e)))}}exec(e,t,r){let n=t;const s=Object.freeze(Object.create(r));for(const t of this.plugins){if(t.type===e){n=t.action(n,s)}}return n}}}});function progressMonitorPlugin(e){const t="--progress";const r=["checkout","clone","fetch","pull","push"];const n={type:"spawn.after",action(r,n){var s;if(!n.commands.includes(t)){return}(s=n.spawned.stderr)==null?void 0:s.on("data",(t=>{const r=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(t.toString("utf8"));if(!r){return}e({method:n.method,stage:progressEventStage(r[1]),progress:asNumber(r[2]),processed:asNumber(r[3]),total:asNumber(r[4])})}))}};const s={type:"spawn.args",action(e,n){if(!r.includes(n.method)){return e}return including(e,t)}};return[s,n]}function progressEventStage(e){return String(e.toLowerCase().split(" ",1))||"unknown"}var je=__esm({"src/lib/plugins/progress-monitor-plugin.ts"(){z()}});var Ie=__esm({"src/lib/plugins/simple-git-plugin.ts"(){}});function spawnOptionsPlugin(e){const t=pick(e,["uid","gid"]);return{type:"spawn.options",action(e){return __spreadValues(__spreadValues({},t),e)}}}var Ge=__esm({"src/lib/plugins/spawn-options-plugin.ts"(){z()}});function timeoutPlugin({block:e}){if(e>0){return{type:"spawn.after",action(t,r){var n,s;let i;function wait(){i&&clearTimeout(i);i=setTimeout(kill,e)}function stop(){var e,t;(e=r.spawned.stdout)==null?void 0:e.off("data",wait);(t=r.spawned.stderr)==null?void 0:t.off("data",wait);r.spawned.off("exit",stop);r.spawned.off("close",stop)}function kill(){stop();r.kill(new k(void 0,"timeout",`block timeout reached`))}(n=r.spawned.stdout)==null?void 0:n.on("data",wait);(s=r.spawned.stderr)==null?void 0:s.on("data",wait);r.spawned.on("exit",stop);r.spawned.on("close",stop);wait()}}}}var Ne=__esm({"src/lib/plugins/timout-plugin.ts"(){T()}});var Be=__esm({"src/lib/plugins/index.ts"(){Re();Pe();De();Le();je();Ie();Ge();Ne()}});function createLog(){return(0,$e.default)("simple-git")}function prefixedLogger(e,t,r){if(!t||!String(t).replace(/\s*/,"")){return!r?e:(t,...n)=>{e(t,...n);r(t,...n)}}return(n,...s)=>{e(`%s ${n}`,t,...s);if(r){r(n,...s)}}}function childLoggerName(e,t,{namespace:r}){if(typeof e==="string"){return e}const n=t&&t.namespace||"";if(n.startsWith(r)){return n.substr(r.length+1)}return n||r}function createLogger(e,t,r,n=createLog()){const s=e&&`[${e}]`||"";const i=[];const o=typeof t==="string"?n.extend(t):t;const a=childLoggerName(filterType(t,F),o,n);return step(r);function sibling(t,r){return append(i,createLogger(e,a.replace(/^[^:]+/,t),r,n))}function step(t){const r=t&&`[${t}]`||"";const i=o&&prefixedLogger(o,r)||O;const a=prefixedLogger(n,`${s} ${r}`,i);return Object.assign(o?i:a,{label:e,sibling:sibling,info:a,step:step})}}var $e;var Ue=__esm({"src/lib/git-logger.ts"(){$e=__toESM(r(237));z();$e.default.formatters.L=e=>String(D(e)?e.length:"-");$e.default.formatters.B=e=>{if(Buffer.isBuffer(e)){return e.toString("utf8")}return E(e)}}});var qe,We;var He=__esm({"src/lib/runners/tasks-pending-queue.ts"(){g();Ue();qe=class{constructor(e="GitExecutor"){this.logLabel=e;this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){const t=qe.getName(e.commands[0]);const r=createLogger(this.logLabel,t);return{task:e,logger:r,name:t}}push(e){const t=this.createProgress(e);t.logger("Adding task to the queue, commands = %o",e.commands);this._queue.set(e,t);return t}fatal(e){for(const[t,{logger:r}]of Array.from(this._queue.entries())){if(t===e.task){r.info(`Failed %o`,e);r(`Fatal exception, any as-yet un-started tasks run through this executor will not be attempted`)}else{r.info(`A fatal exception occurred in a previous task, the queue has been purged: %o`,e.message)}this.complete(t)}if(this._queue.size!==0){throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}}complete(e){const t=this.withProgress(e);if(t){this._queue.delete(e)}}attempt(e){const t=this.withProgress(e);if(!t){throw new h(void 0,"TasksPendingQueue: attempt called for an unknown task")}t.logger("Starting task");return t}static getName(e="empty"){return`task:${e}:${++qe.counter}`}};We=qe;We.counter=0}});function pluginContext(e,t){return{method:first(e.commands)||"",commands:t}}function onErrorReceived(e,t){return r=>{t(`[ERROR] child process exception %o`,r);e.push(Buffer.from(String(r.stack),"ascii"))}}function onDataReceived(e,t,r,n){return s=>{r(`%s received %L bytes`,t,s);n(`%B`,s);e.push(s)}}var Ve,ze;var Ke=__esm({"src/lib/runners/git-executor-chain.ts"(){Ve=r(81);g();oe();z();He();ze=class{constructor(e,t,r){this._executor=e;this._scheduler=t;this._plugins=r;this._chain=Promise.resolve();this._queue=new We}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){this._queue.push(e);return this._chain=this._chain.then((()=>this.attemptTask(e)))}attemptTask(e){return __async(this,null,(function*(){const t=yield this._scheduler.next();const onQueueComplete=()=>this._queue.complete(e);try{const{logger:r}=this._queue.attempt(e);return yield isEmptyTask(e)?this.attemptEmptyTask(e,r):this.attemptRemoteTask(e,r)}catch(t){throw this.onFatalException(e,t)}finally{onQueueComplete();t()}}))}onFatalException(e,t){const r=t instanceof h?Object.assign(t,{task:e}):new h(e,t&&String(t));this._chain=Promise.resolve();this._queue.fatal(r);return r}attemptRemoteTask(e,t){return __async(this,null,(function*(){const r=this._plugins.exec("spawn.args",[...e.commands],pluginContext(e,e.commands));const n=yield this.gitResponse(e,this.binary,r,this.outputHandler,t.step("SPAWN"));const s=yield this.handleTaskData(e,r,n,t.step("HANDLE"));t(`passing response to task's parser as a %s`,e.format);if(isBufferTask(e)){return callTaskParser(e.parser,s)}return callTaskParser(e.parser,s.asStrings())}))}attemptEmptyTask(e,t){return __async(this,null,(function*(){t(`empty task bypassing child process to call to task's parser`);return e.parser(this)}))}handleTaskData(e,t,r,n){const{exitCode:s,rejection:i,stdOut:o,stdErr:a}=r;return new Promise(((u,c)=>{n(`Preparing to handle process response exitCode=%d stdOut=`,s);const{error:l}=this._plugins.exec("task.error",{error:i},__spreadValues(__spreadValues({},pluginContext(e,t)),r));if(l&&e.onError){n.info(`exitCode=%s handling with custom error handler`);return e.onError(r,l,(e=>{n.info(`custom error handler treated as success`);n(`custom error returned a %s`,E(e));u(new I(Array.isArray(e)?Buffer.concat(e):e,Buffer.concat(a)))}),c)}if(l){n.info(`handling as error: exitCode=%s stdErr=%s rejection=%o`,s,a.length,i);return c(l)}n.info(`retrieving task output complete`);u(new I(Buffer.concat(o),Buffer.concat(a)))}))}gitResponse(e,t,r,n,s){return __async(this,null,(function*(){const i=s.sibling("output");const o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:true},pluginContext(e,e.commands));return new Promise((a=>{const u=[];const c=[];let l;s.info(`%s %o`,t,r);s("%O",o);const f=(0,Ve.spawn)(t,r,o);f.stdout.on("data",onDataReceived(u,"stdOut",s,i.step("stdOut")));f.stderr.on("data",onDataReceived(c,"stdErr",s,i.step("stdErr")));f.on("error",onErrorReceived(c,s));if(n){s(`Passing child process stdOut/stdErr to custom outputHandler`);n(t,f.stdout,f.stderr,[...r])}this._plugins.exec("spawn.after",void 0,__spreadProps(__spreadValues({},pluginContext(e,r)),{spawned:f,close(e,t){a({stdOut:u,stdErr:c,exitCode:e,rejection:l||t})},kill(e){if(f.killed){return}l=e;f.kill("SIGINT")}}))}))}))}}}});var Qe={};__export(Qe,{GitExecutor:()=>Ye});var Ye;var Je=__esm({"src/lib/runners/git-executor.ts"(){Ke();Ye=class{constructor(e="git",t,r,n){this.binary=e;this.cwd=t;this._scheduler=r;this._plugins=n;this._chain=new ze(this,this._scheduler,this._plugins)}chain(){return new ze(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function taskCallback(e,t,r=O){const onSuccess=e=>{r(null,e)};const onError2=t=>{if((t==null?void 0:t.task)===e){r(t instanceof m?addDeprecationNoticeToError(t):t,void 0)}};t.then(onSuccess,onError2)}function addDeprecationNoticeToError(e){let log=e=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${e} should be GitResponseError.git.${e}, this will no longer be available in version 3`);log=O};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(descriptorReducer,{}));function descriptorReducer(t,r){if(r in e){return t}t[r]={enumerable:false,configurable:false,get(){log(r);return e.git[r]}};return t}}var Xe=__esm({"src/lib/task-callback.ts"(){v();z()}});function changeWorkingDirectoryTask(e,t){return adhocExecTask((r=>{if(!folderExists(e)){throw new Error(`Git.cwd: cannot change to non-directory "${e}"`)}return(t||r).cwd=e}))}var Ze=__esm({"src/lib/tasks/change-working-directory.ts"(){z();oe()}});function hashObjectTask(e,t){const r=["hash-object",e];if(t){r.push("-w")}return straightThroughStringTask(r,true)}var et=__esm({"src/lib/tasks/hash-object.ts"(){oe()}});function parseInit(e,t,r){const n=String(r).trim();let s;if(s=rt.exec(n)){return new tt(e,t,false,s[1])}if(s=nt.exec(n)){return new tt(e,t,true,s[1])}let i="";const o=n.split(" ");while(o.length){const e=o.shift();if(e==="in"){i=o.join(" ");break}}return new tt(e,t,/^re/i.test(n),i)}var tt,rt,nt;var st=__esm({"src/lib/responses/InitSummary.ts"(){tt=class{constructor(e,t,r,n){this.bare=e;this.path=t;this.existing=r;this.gitDir=n}};rt=/^Init.+ repository in (.+)$/;nt=/^Rein.+ in (.+)$/}});function hasBareCommand(e){return e.includes(it)}function initTask(e=false,t,r){const n=["init",...r];if(e&&!hasBareCommand(n)){n.splice(1,0,it)}return{commands:n,format:"utf-8",parser(e){return parseInit(n.includes("--bare"),t,e)}}}var it;var ot=__esm({"src/lib/tasks/init.ts"(){st();it="--bare"}});var at;var ut=__esm({"src/lib/responses/DiffSummary.ts"(){at=class{constructor(){this.changed=0;this.deletions=0;this.insertions=0;this.files=[]}}}});function parseDiffResult(e){const t=e.trim().split("\n");const r=new at;readSummaryLine(r,t.pop());for(let e=0,n=t.length;e<n;e++){const n=t[e];textFileChange(n,r)||binaryFileChange(n,r)}return r}function readSummaryLine(e,t){(t||"").trim().split(", ").forEach((function(t){const r=/(\d+)\s([a-z]+)/.exec(t);if(!r){return}summaryType(e,r[2],parseInt(r[1],10))}))}function summaryType(e,t,r){const n=/([a-z]+?)s?\b/.exec(t);if(!n||!ct[n[1]]){return}ct[n[1]](e,r)}function textFileChange(e,{files:t}){const r=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(r){var n=(r[3]||"").trim();t.push({file:r[1].trim(),changes:parseInt(r[2],10),insertions:n.replace(/-/g,"").length,deletions:n.replace(/\+/g,"").length,binary:false});return true}return false}function binaryFileChange(e,{files:t}){const r=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);if(r){t.push({file:r[1].trim(),before:+r[2],after:+r[3],binary:true});return true}return false}var ct;var lt=__esm({"src/lib/parsers/parse-diff-summary.ts"(){ut();ct={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}}}});function lineBuilder(e,t){return t.reduce(((t,r,n)=>{t[r]=e[n]||"";return t}),Object.create({diff:null}))}function createListLogSummaryParser(e=dt,t=ht){return function(r){const n=toLinesWithContent(r,true,ft).map((function(r){const n=r.trim().split(pt);const s=lineBuilder(n[0].trim().split(e),t);if(n.length>1&&!!n[1].trim()){s.diff=parseDiffResult(n[1])}return s}));return{all:n,latest:n.length&&n[0]||null,total:n.length}}}var ft,pt,dt,ht;var gt=__esm({"src/lib/parsers/parse-list-log-summary.ts"(){z();lt();ft="Ã²Ã²Ã²Ã²Ã²Ã² ";pt=" Ã²Ã²";dt=" Ã² ";ht=["hash","date","message","refs","author_name","author_email"]}});function prettyFormat(e,t){const r=[];const n=[];Object.keys(e).forEach((t=>{r.push(t);n.push(String(e[t]))}));return[r,n.join(t)]}function userOptions(e){return Object.keys(e).reduce(((t,r)=>{if(!(r in mt)){t[r]=e[r]}return t}),{})}function parseLogOptions(e={},t=[]){const r=filterType(e.splitter,F,dt);const n=!filterPrimitives(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===false?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==false?"%aN":"%an",author_email:e.mailMap!==false?"%aE":"%ae"};const[s,i]=prettyFormat(n,r);const o=[];const a=[`--pretty=format:${ft}${i}${pt}`,...t];const u=e.n||e["max-count"]||e.maxCount;if(u){a.push(`--max-count=${u}`)}if(e.from&&e.to){const t=e.symmetric!==false?"...":"..";o.push(`${e.from}${t}${e.to}`)}if(F(e.file)){o.push("--follow",e.file)}appendTaskOptions(userOptions(e),a);return{fields:s,splitter:r,commands:[...a,...o]}}function logTask(e,t,r){return{commands:["log",...r],format:"utf-8",parser:createListLogSummaryParser(e,t)}}function log_default(){return{log(...e){const t=trailingFunctionArgument(arguments);const r=rejectDeprecatedSignatures(...e)||createLogTask(parseLogOptions(trailingOptionsArgument(arguments),filterType(arguments[0],R)));return this._runTask(r,t)}};function createLogTask(e){return logTask(e.splitter,e.fields,e.commands)}function rejectDeprecatedSignatures(e,t){return F(e)&&F(t)&&configurationErrorTask(`git.log(string, string) should be replaced with git.log({ from: string, to: string })`)}}var mt;var vt=__esm({"src/lib/tasks/log.ts"(){gt();z();oe();mt=(e=>{e[e["--pretty"]=0]="--pretty";e[e["max-count"]=1]="max-count";e[e["maxCount"]=2]="maxCount";e[e["n"]=3]="n";e[e["file"]=4]="file";e[e["format"]=5]="format";e[e["from"]=6]="from";e[e["to"]=7]="to";e[e["splitter"]=8]="splitter";e[e["symmetric"]=9]="symmetric";e[e["mailMap"]=10]="mailMap";e[e["multiLine"]=11]="multiLine";e[e["strictDate"]=12]="strictDate";return e})(mt||{})}});var bt,yt;var kt=__esm({"src/lib/responses/MergeSummary.ts"(){bt=class{constructor(e,t=null,r){this.reason=e;this.file=t;this.meta=r}toString(){return`${this.file}:${this.reason}`}};yt=class{constructor(){this.conflicts=[];this.merges=[];this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){if(this.conflicts.length){return`CONFLICTS: ${this.conflicts.join(", ")}`}return"OK"}}}});var Tt,wt;var Ct=__esm({"src/lib/responses/PullSummary.ts"(){Tt=class{constructor(){this.remoteMessages={all:[]};this.created=[];this.deleted=[];this.files=[];this.deletions={};this.insertions={};this.summary={changes:0,deletions:0,insertions:0}}};wt=class{constructor(){this.remote="";this.hash={local:"",remote:""};this.branch={local:"",remote:""};this.message=""}toString(){return this.message}}}});function objectEnumerationResult(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function asObjectCount(e){const t=/^\s*(\d+)/.exec(e);const r=/delta (\d+)/i.exec(e);return{count:asNumber(t&&t[1]||"0"),delta:asNumber(r&&r[1]||"0")}}var _t;var xt=__esm({"src/lib/parsers/parse-remote-objects.ts"(){z();_t=[new B(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,((e,[t,r])=>{const n=t.toLowerCase();const s=objectEnumerationResult(e.remoteMessages);Object.assign(s,{[n]:asNumber(r)})})),new B(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,((e,[t,r])=>{const n=t.toLowerCase();const s=objectEnumerationResult(e.remoteMessages);Object.assign(s,{[n]:asNumber(r)})})),new B(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,((e,[t,r,n])=>{const s=objectEnumerationResult(e.remoteMessages);s.total=asObjectCount(t);s.reused=asObjectCount(r);s.packReused=asNumber(n)}))]}});function parseRemoteMessages(e,t){return parseStringResponse({remoteMessages:new Et},Ot,t)}var Ot,Et;var St=__esm({"src/lib/parsers/parse-remote-messages.ts"(){z();xt();Ot=[new B(/^remote:\s*(.+)$/,((e,[t])=>{e.remoteMessages.all.push(t.trim());return false})),..._t,new B([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],((e,[t])=>{e.remoteMessages.pullRequestUrl=t})),new B([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],((e,[t,r,n])=>{e.remoteMessages.vulnerabilities={count:asNumber(t),summary:r,url:n}}))];Et=class{constructor(){this.all=[]}}}});function parsePullErrorResult(e,t){const r=parseStringResponse(new wt,Dt,e,t);return r.message&&r}var Rt,Ft,At,Pt,Dt,Mt,Lt;var jt=__esm({"src/lib/parsers/parse-pull.ts"(){Ct();z();St();Rt=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/;Ft=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/;At=/^(create|delete) mode \d+ (.+)/;Pt=[new N(Rt,((e,[t,r,n])=>{e.files.push(t);if(r){e.insertions[t]=r.length}if(n){e.deletions[t]=n.length}})),new N(Ft,((e,[t,,r,,n])=>{if(r!==void 0||n!==void 0){e.summary.changes=+t||0;e.summary.insertions=+r||0;e.summary.deletions=+n||0;return true}return false})),new N(At,((e,[t,r])=>{append(e.files,r);append(t==="create"?e.created:e.deleted,r)}))];Dt=[new N(/^from\s(.+)$/i,((e,[t])=>void(e.remote=t))),new N(/^fatal:\s(.+)$/,((e,[t])=>void(e.message=t))),new N(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,((e,[t,r,n,s])=>{e.branch.local=n;e.hash.local=t;e.branch.remote=s;e.hash.remote=r}))];Mt=(e,t)=>parseStringResponse(new Tt,Pt,e,t);Lt=(e,t)=>Object.assign(new Tt,Mt(e,t),parseRemoteMessages(e,t))}});var It,Gt,Nt;var Bt=__esm({"src/lib/parsers/parse-merge.ts"(){kt();z();jt();It=[new N(/^Auto-merging\s+(.+)$/,((e,[t])=>{e.merges.push(t)})),new N(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,((e,[t,r])=>{e.conflicts.push(new bt(t,r))})),new N(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,((e,[t,r,n])=>{e.conflicts.push(new bt(t,r,{deleteRef:n}))})),new N(/^CONFLICT\s+\((.+)\):/,((e,[t])=>{e.conflicts.push(new bt(t,null))})),new N(/^Automatic merge failed;\s+(.+)$/,((e,[t])=>{e.result=t}))];Gt=(e,t)=>Object.assign(Nt(e,t),Lt(e,t));Nt=e=>parseStringResponse(new yt,It,e)}});function mergeTask(e){if(!e.length){return configurationErrorTask("Git.merge requires at least one option")}return{commands:["merge",...e],format:"utf-8",parser(e,t){const r=Gt(e,t);if(r.failed){throw new m(r)}return r}}}var $t=__esm({"src/lib/tasks/merge.ts"(){v();Bt();oe()}});function pushResultPushedItem(e,t,r){const n=r.includes("deleted");const s=r.includes("tag")||/^refs\/tags/.test(e);const i=!r.includes("new");return{deleted:n,tag:s,branch:!s,new:!i,alreadyUpdated:i,local:e,remote:t}}var Ut,qt,Wt;var Ht=__esm({"src/lib/parsers/parse-push.ts"(){z();St();Ut=[new N(/^Pushing to (.+)$/,((e,[t])=>{e.repo=t})),new N(/^updating local tracking ref '(.+)'/,((e,[t])=>{e.ref=__spreadProps(__spreadValues({},e.ref||{}),{local:t})})),new N(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,((e,[t,r,n])=>{e.pushed.push(pushResultPushedItem(t,r,n))})),new N(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,((e,[t,r,n])=>{e.branch=__spreadProps(__spreadValues({},e.branch||{}),{local:t,remote:r,remoteName:n})})),new N(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,((e,[t,r,n,s])=>{e.update={head:{local:t,remote:r},hash:{from:n,to:s}}}))];qt=(e,t)=>{const r=Wt(e,t);const n=parseRemoteMessages(e,t);return __spreadValues(__spreadValues({},r),n)};Wt=(e,t)=>parseStringResponse({pushed:[]},Ut,e,t)}});var Vt={};__export(Vt,{pushTagsTask:()=>pushTagsTask,pushTask:()=>pushTask});function pushTagsTask(e={},t){append(t,"--tags");return pushTask(e,t)}function pushTask(e={},t){const r=["push",...t];if(e.branch){r.splice(1,0,e.branch)}if(e.remote){r.splice(1,0,e.remote)}remove(r,"-v");append(r,"--verbose");append(r,"--porcelain");return{commands:r,format:"utf-8",parser:qt}}var zt=__esm({"src/lib/tasks/push.ts"(){Ht();z()}});var Kt,Qt;var Yt=__esm({"src/lib/responses/FileStatusSummary.ts"(){Kt=/^(.+) -> (.+)$/;Qt=class{constructor(e,t,r){this.path=e;this.index=t;this.working_dir=r;if(t+r==="R"){const t=Kt.exec(e)||[null,e,e];this.from=t[1]||"";this.path=t[2]||""}}}}});function renamedFile(e){const t=/^(.+) -> (.+)$/.exec(e);if(!t){return{from:e,to:e}}return{from:String(t[1]),to:String(t[2])}}function parser2(e,t,r){return[`${e}${t}`,r]}function conflicts(e,...t){return t.map((t=>parser2(e,t,((e,t)=>append(e.conflicted,t)))))}function splitLine(e,t){const r=t.trim();switch(" "){case r.charAt(2):return data(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return data(" ",r.charAt(0),r.substr(2));default:return}function data(t,r,n){const s=`${t}${r}`;const i=Xt.get(s);if(i){i(e,n)}if(s!=="##"&&s!=="!!"){e.files.push(new Qt(n,t,r))}}}var Jt,Xt,Zt;var er=__esm({"src/lib/responses/StatusSummary.ts"(){z();Yt();Jt=class{constructor(){this.not_added=[];this.conflicted=[];this.created=[];this.deleted=[];this.ignored=void 0;this.modified=[];this.renamed=[];this.files=[];this.staged=[];this.ahead=0;this.behind=0;this.current=null;this.tracking=null;this.detached=false;this.isClean=()=>!this.files.length}};Xt=new Map([parser2(" ","A",((e,t)=>append(e.created,t))),parser2(" ","D",((e,t)=>append(e.deleted,t))),parser2(" ","M",((e,t)=>append(e.modified,t))),parser2("A"," ",((e,t)=>append(e.created,t)&&append(e.staged,t))),parser2("A","M",((e,t)=>append(e.created,t)&&append(e.staged,t)&&append(e.modified,t))),parser2("D"," ",((e,t)=>append(e.deleted,t)&&append(e.staged,t))),parser2("M"," ",((e,t)=>append(e.modified,t)&&append(e.staged,t))),parser2("M","M",((e,t)=>append(e.modified,t)&&append(e.staged,t))),parser2("R"," ",((e,t)=>{append(e.renamed,renamedFile(t))})),parser2("R","M",((e,t)=>{const r=renamedFile(t);append(e.renamed,r);append(e.modified,r.to)})),parser2("!","!",((e,t)=>{append(e.ignored=e.ignored||[],t)})),parser2("?","?",((e,t)=>append(e.not_added,t))),...conflicts("A","A","U"),...conflicts("D","D","U"),...conflicts("U","A","D","U"),["##",(e,t)=>{const r=/ahead (\d+)/;const n=/behind (\d+)/;const s=/^(.+?(?=(?:\.{3}|\s|$)))/;const i=/\.{3}(\S*)/;const o=/\son\s([\S]+)$/;let a;a=r.exec(t);e.ahead=a&&+a[1]||0;a=n.exec(t);e.behind=a&&+a[1]||0;a=s.exec(t);e.current=a&&a[1];a=i.exec(t);e.tracking=a&&a[1];a=o.exec(t);e.current=a&&a[1]||e.current;e.detached=/\(no branch\)/.test(t)}]]);Zt=function(e){const t=e.trim().split(x);const r=new Jt;for(let e=0,n=t.length;e<n;e++){splitLine(r,t[e])}return r}}});function statusTask(e){const t=["status","--porcelain","-b","-u","--null",...e.filter((e=>!tr.includes(e)))];return{format:"utf-8",commands:t,parser(e){return Zt(e)}}}var tr;var rr=__esm({"src/lib/tasks/status.ts"(){er();tr=["--null","-z"]}});var nr={};__export(nr,{SimpleGitApi:()=>sr});var sr;var ir=__esm({"src/lib/simple-git-api.ts"(){Xe();Ze();ve();we();et();ot();vt();$t();zt();rr();oe();z();sr=class{constructor(e){this._executor=e}_runTask(e,t){const r=this._executor.chain();const n=r.push(e);if(t){taskCallback(e,n,t)}return Object.create(this,{then:{value:n.then.bind(n)},catch:{value:n.catch.bind(n)},_executor:{value:r}})}add(e){return this._runTask(straightThroughStringTask(["add",...asArray(e)]),trailingFunctionArgument(arguments))}cwd(e){const t=trailingFunctionArgument(arguments);if(typeof e==="string"){return this._runTask(changeWorkingDirectoryTask(e,this._executor),t)}if(typeof(e==null?void 0:e.path)==="string"){return this._runTask(changeWorkingDirectoryTask(e.path,e.root&&this._executor||void 0),t)}return this._runTask(configurationErrorTask("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(hashObjectTask(e,t===true),trailingFunctionArgument(arguments))}init(e){return this._runTask(initTask(e===true,this._executor.cwd,getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}merge(){return this._runTask(mergeTask(getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}mergeFromTo(e,t){if(!(F(e)&&F(t))){return this._runTask(configurationErrorTask(`Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings`))}return this._runTask(mergeTask([e,t,...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments,false))}outputHandler(e){this._executor.outputHandler=e;return this}push(){const e=pushTask({remote:filterType(arguments[0],F),branch:filterType(arguments[1],F)},getTrailingOptions(arguments));return this._runTask(e,trailingFunctionArgument(arguments))}stash(){return this._runTask(straightThroughStringTask(["stash",...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments))}status(){return this._runTask(statusTask(getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}};Object.assign(sr.prototype,config_default(),grep_default(),log_default())}});var or={};__export(or,{Scheduler:()=>cr});var ar,ur,cr;var lr=__esm({"src/lib/runners/scheduler.ts"(){z();ar=r(819);Ue();ur=(()=>{let e=0;return()=>{e++;const{promise:t,done:r}=(0,ar.createDeferred)();return{promise:t,done:r,id:e}}})();cr=class{constructor(e=2){this.concurrency=e;this.logger=createLogger("","scheduler");this.pending=[];this.running=[];this.logger(`Constructed, concurrency=%s`,e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger(`Schedule attempt ignored, pending=%s running=%s concurrency=%s`,this.pending.length,this.running.length,this.concurrency);return}const e=append(this.running,this.pending.shift());this.logger(`Attempting id=%s`,e.id);e.done((()=>{this.logger(`Completing id=`,e.id);remove(this.running,e);this.schedule()}))}next(){const{promise:e,id:t}=append(this.pending,ur());this.logger(`Scheduling id=%s`,t);this.schedule();return e}}}});var fr={};__export(fr,{applyPatchTask:()=>applyPatchTask});function applyPatchTask(e,t){return straightThroughStringTask(["apply",...t,...e])}var pr=__esm({"src/lib/tasks/apply-patch.ts"(){oe()}});function branchDeletionSuccess(e,t){return{branch:e,hash:t,success:true}}function branchDeletionFailure(e){return{branch:e,hash:null,success:false}}var dr;var hr=__esm({"src/lib/responses/BranchDeleteSummary.ts"(){dr=class{constructor(){this.all=[];this.branches={};this.errors=[]}get success(){return!this.errors.length}}}});function hasBranchDeletionError(e,t){return t===1&&mr.test(e)}var gr,mr,vr,br;var yr=__esm({"src/lib/parsers/parse-branch-delete.ts"(){hr();z();gr=/(\S+)\s+\(\S+\s([^)]+)\)/;mr=/^error[^']+'([^']+)'/m;vr=[new N(gr,((e,[t,r])=>{const n=branchDeletionSuccess(t,r);e.all.push(n);e.branches[t]=n})),new N(mr,((e,[t])=>{const r=branchDeletionFailure(t);e.errors.push(r);e.all.push(r);e.branches[t]=r}))];br=(e,t)=>parseStringResponse(new dr,vr,e,t)}});var kr;var Tr=__esm({"src/lib/responses/BranchSummary.ts"(){kr=class{constructor(){this.all=[];this.branches={};this.current="";this.detached=false}push(e,t,r,n,s){if(e){this.detached=t;this.current=r}this.all.push(r);this.branches[r]={current:e,name:r,commit:n,label:s}}}}});function parseBranchSummary(e){return parseStringResponse(new kr,wr,e)}var wr;var Cr=__esm({"src/lib/parsers/parse-branch.ts"(){Tr();z();wr=[new N(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,((e,[t,r,n,s])=>{e.push(!!t,true,r,n,s)})),new N(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,((e,[t,r,n,s])=>{e.push(!!t,false,r,n,s)}))]}});var _r={};__export(_r,{branchLocalTask:()=>branchLocalTask,branchTask:()=>branchTask,containsDeleteBranchCommand:()=>containsDeleteBranchCommand,deleteBranchTask:()=>deleteBranchTask,deleteBranchesTask:()=>deleteBranchesTask});function containsDeleteBranchCommand(e){const t=["-d","-D","--delete"];return e.some((e=>t.includes(e)))}function branchTask(e){const t=containsDeleteBranchCommand(e);const r=["branch",...e];if(r.length===1){r.push("-a")}if(!r.includes("-v")){r.splice(1,0,"-v")}return{format:"utf-8",commands:r,parser(e,r){if(t){return br(e,r).all[0]}return parseBranchSummary(e)}}}function branchLocalTask(){const e=parseBranchSummary;return{format:"utf-8",commands:["branch","-v"],parser:e}}function deleteBranchesTask(e,t=false){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(e,t){return br(e,t)},onError({exitCode:e,stdOut:t},r,n,s){if(!hasBranchDeletionError(String(r),e)){return s(r)}n(t)}}}function deleteBranchTask(e,t=false){const r={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(t,r){return br(t,r).branches[e]},onError({exitCode:e,stdErr:t,stdOut:n},s,i,o){if(!hasBranchDeletionError(String(s),e)){return o(s)}throw new m(r.parser(bufferToString(n),bufferToString(t)),String(s))}};return r}var xr=__esm({"src/lib/tasks/branch.ts"(){v();yr();Cr();z()}});var Or;var Er=__esm({"src/lib/responses/CheckIgnore.ts"(){Or=e=>e.split(/\n/g).map((e=>e.trim())).filter((e=>!!e))}});var Sr={};__export(Sr,{checkIgnoreTask:()=>checkIgnoreTask});function checkIgnoreTask(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Or}}var Rr=__esm({"src/lib/tasks/check-ignore.ts"(){Er()}});var Fr={};__export(Fr,{cloneMirrorTask:()=>cloneMirrorTask,cloneTask:()=>cloneTask});function disallowedCommand(e){return/^--upload-pack(=|$)/.test(e)}function cloneTask(e,t,r){const n=["clone",...r];F(e)&&n.push(e);F(t)&&n.push(t);const s=n.find(disallowedCommand);if(s){return configurationErrorTask(`git.fetch: potential exploit argument blocked.`)}return straightThroughStringTask(n)}function cloneMirrorTask(e,t,r){append(r,"--mirror");return cloneTask(e,t,r)}var Ar=__esm({"src/lib/tasks/clone.ts"(){oe();z()}});function parseCommitResult(e){const t={author:null,branch:"",commit:"",root:false,summary:{changes:0,insertions:0,deletions:0}};return parseStringResponse(t,Pr,e)}var Pr;var Dr=__esm({"src/lib/parsers/parse-commit.ts"(){z();Pr=[new N(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,((e,[t,r,n])=>{e.branch=t;e.commit=n;e.root=!!r})),new N(/\s*Author:\s(.+)/i,((e,[t])=>{const r=t.split("<");const n=r.pop();if(!n||!n.includes("@")){return}e.author={email:n.substr(0,n.length-1),name:r.join("<").trim()}})),new N(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;e.summary.insertions=parseInt(r,10)||0;e.summary.deletions=parseInt(n,10)||0})),new N(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;const s=parseInt(r,10)||0;if(n==="-"){e.summary.deletions=s}else if(n==="+"){e.summary.insertions=s}}))]}});var Mr={};__export(Mr,{commitTask:()=>commitTask});function commitTask(e,t,r){const n=["commit"];e.forEach((e=>n.push("-m",e)));n.push(...t,...r);return{commands:n,format:"utf-8",parser:parseCommitResult}}var Lr=__esm({"src/lib/tasks/commit.ts"(){Dr()}});var jr={};__export(jr,{diffSummaryTask:()=>diffSummaryTask});function diffSummaryTask(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser(e){return parseDiffResult(e)}}}var Ir=__esm({"src/lib/tasks/diff.ts"(){lt()}});function parseFetchResult(e,t){const r={raw:e,remote:null,branches:[],tags:[]};return parseStringResponse(r,Gr,e,t)}var Gr;var Nr=__esm({"src/lib/parsers/parse-fetch.ts"(){z();Gr=[new N(/From (.+)$/,((e,[t])=>{e.remote=t})),new N(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.branches.push({name:t,tracking:r})})),new N(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.tags.push({name:t,tracking:r})}))]}});var Br={};__export(Br,{fetchTask:()=>fetchTask});function disallowedCommand2(e){return/^--upload-pack(=|$)/.test(e)}function fetchTask(e,t,r){const n=["fetch",...r];if(e&&t){n.push(e,t)}const s=n.find(disallowedCommand2);if(s){return configurationErrorTask(`git.fetch: potential exploit argument blocked.`)}return{commands:n,format:"utf-8",parser:parseFetchResult}}var $r=__esm({"src/lib/tasks/fetch.ts"(){Nr();oe()}});function parseMoveResult(e){return parseStringResponse({moves:[]},Ur,e)}var Ur;var qr=__esm({"src/lib/parsers/parse-move.ts"(){z();Ur=[new N(/^Renaming (.+) to (.+)$/,((e,[t,r])=>{e.moves.push({from:t,to:r})}))]}});var Wr={};__export(Wr,{moveTask:()=>moveTask});function moveTask(e,t){return{commands:["mv","-v",...asArray(e),t],format:"utf-8",parser:parseMoveResult}}var Hr=__esm({"src/lib/tasks/move.ts"(){qr();z()}});var Vr={};__export(Vr,{pullTask:()=>pullTask});function pullTask(e,t,r){const n=["pull",...r];if(e&&t){n.splice(1,0,e,t)}return{commands:n,format:"utf-8",parser(e,t){return Lt(e,t)},onError(e,t,r,n){const s=parsePullErrorResult(bufferToString(e.stdOut),bufferToString(e.stdErr));if(s){return n(new m(s))}n(t)}}}var zr=__esm({"src/lib/tasks/pull.ts"(){v();jt();z()}});function parseGetRemotes(e){const t={};forEach(e,(([e])=>t[e]={name:e}));return Object.values(t)}function parseGetRemotesVerbose(e){const t={};forEach(e,(([e,r,n])=>{if(!t.hasOwnProperty(e)){t[e]={name:e,refs:{fetch:"",push:""}}}if(n&&r){t[e].refs[n.replace(/[^a-z]/g,"")]=r}}));return Object.values(t)}function forEach(e,t){forEachLineWithContent(e,(e=>t(e.split(/\s+/))))}var Kr=__esm({"src/lib/responses/GetRemoteSummary.ts"(){z()}});var Qr={};__export(Qr,{addRemoteTask:()=>addRemoteTask,getRemotesTask:()=>getRemotesTask,listRemotesTask:()=>listRemotesTask,remoteTask:()=>remoteTask,removeRemoteTask:()=>removeRemoteTask});function addRemoteTask(e,t,r=[]){return straightThroughStringTask(["remote","add",...r,e,t])}function getRemotesTask(e){const t=["remote"];if(e){t.push("-v")}return{commands:t,format:"utf-8",parser:e?parseGetRemotesVerbose:parseGetRemotes}}function listRemotesTask(e=[]){const t=[...e];if(t[0]!=="ls-remote"){t.unshift("ls-remote")}return straightThroughStringTask(t)}function remoteTask(e=[]){const t=[...e];if(t[0]!=="remote"){t.unshift("remote")}return straightThroughStringTask(t)}function removeRemoteTask(e){return straightThroughStringTask(["remote","remove",e])}var Yr=__esm({"src/lib/tasks/remote.ts"(){Kr();oe()}});var Jr={};__export(Jr,{stashListTask:()=>stashListTask});function stashListTask(e={},t){const r=parseLogOptions(e);const n=createListLogSummaryParser(r.splitter,r.fields);return{commands:["stash","list",...r.commands,...t],format:"utf-8",parser:n}}var Xr=__esm({"src/lib/tasks/stash-list.ts"(){gt();vt()}});var Zr={};__export(Zr,{addSubModuleTask:()=>addSubModuleTask,initSubModuleTask:()=>initSubModuleTask,subModuleTask:()=>subModuleTask,updateSubModuleTask:()=>updateSubModuleTask});function addSubModuleTask(e,t){return subModuleTask(["add",e,t])}function initSubModuleTask(e){return subModuleTask(["init",...e])}function subModuleTask(e){const t=[...e];if(t[0]!=="submodule"){t.unshift("submodule")}return straightThroughStringTask(t)}function updateSubModuleTask(e){return subModuleTask(["update",...e])}var en=__esm({"src/lib/tasks/sub-module.ts"(){oe()}});function singleSorted(e,t){const r=isNaN(e);const n=isNaN(t);if(r!==n){return r?1:-1}return r?sorted(e,t):0}function sorted(e,t){return e===t?0:e>t?1:-1}function trimmed(e){return e.trim()}function toNumber(e){if(typeof e==="string"){return parseInt(e.replace(/^\D+/g,""),10)||0}return 0}var tn,rn;var nn=__esm({"src/lib/responses/TagList.ts"(){tn=class{constructor(e,t){this.all=e;this.latest=t}};rn=function(e,t=false){const r=e.split("\n").map(trimmed).filter(Boolean);if(!t){r.sort((function(e,t){const r=e.split(".");const n=t.split(".");if(r.length===1||n.length===1){return singleSorted(toNumber(r[0]),toNumber(n[0]))}for(let e=0,t=Math.max(r.length,n.length);e<t;e++){const t=sorted(toNumber(r[e]),toNumber(n[e]));if(t){return t}}return 0}))}const n=t?r[0]:[...r].reverse().find((e=>e.indexOf(".")>=0));return new tn(r,n)}}});var sn={};__export(sn,{addAnnotatedTagTask:()=>addAnnotatedTagTask,addTagTask:()=>addTagTask,tagListTask:()=>tagListTask});function tagListTask(e=[]){const t=e.some((e=>/^--sort=/.test(e)));return{format:"utf-8",commands:["tag","-l",...e],parser(e){return rn(e,t)}}}function addTagTask(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function addAnnotatedTagTask(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var on=__esm({"src/lib/tasks/tag.ts"(){nn()}});var an=__commonJS({"src/git.js"(e,t){var{GitExecutor:r}=(Je(),d(Qe));var{SimpleGitApi:n}=(ir(),d(nr));var{Scheduler:s}=(lr(),d(or));var{configurationErrorTask:i}=(oe(),d(se));var{asArray:o,filterArray:a,filterPrimitives:u,filterString:c,filterStringOrStringArray:l,filterType:f,getTrailingOptions:p,trailingFunctionArgument:h,trailingOptionsArgument:g}=(z(),d(V));var{applyPatchTask:m}=(pr(),d(fr));var{branchTask:v,branchLocalTask:b,deleteBranchesTask:y,deleteBranchTask:k}=(xr(),d(_r));var{checkIgnoreTask:T}=(Rr(),d(Sr));var{checkIsRepoTask:w}=(X(),d(K));var{cloneTask:C,cloneMirrorTask:_}=(Ar(),d(Fr));var{cleanWithOptionsTask:x,isCleanOptionsArray:O}=(de(),d(ae));var{commitTask:E}=(Lr(),d(Mr));var{diffSummaryTask:S}=(Ir(),d(jr));var{fetchTask:R}=($r(),d(Br));var{moveTask:F}=(Hr(),d(Wr));var{pullTask:A}=(zr(),d(Vr));var{pushTagsTask:P}=(zt(),d(Vt));var{addRemoteTask:D,getRemotesTask:M,listRemotesTask:L,remoteTask:j,removeRemoteTask:I}=(Yr(),d(Qr));var{getResetMode:G,resetTask:N}=(Oe(),d(Ce));var{stashListTask:B}=(Xr(),d(Jr));var{addSubModuleTask:$,initSubModuleTask:U,subModuleTask:q,updateSubModuleTask:W}=(en(),d(Zr));var{addAnnotatedTagTask:H,addTagTask:Q,tagListTask:Y}=(on(),d(sn));var{straightThroughBufferTask:J,straightThroughStringTask:Z}=(oe(),d(se));function Git2(e,t){this._executor=new r(e.binary,e.baseDir,new s(e.maxConcurrentProcesses),t)}(Git2.prototype=Object.create(n.prototype)).constructor=Git2;Git2.prototype.customBinary=function(e){this._executor.binary=e;return this};Git2.prototype.env=function(e,t){if(arguments.length===1&&typeof e==="object"){this._executor.env=e}else{(this._executor.env=this._executor.env||{})[e]=t}return this};Git2.prototype.stashList=function(e){return this._runTask(B(g(arguments)||{},a(e)&&e||[]),h(arguments))};function createCloneTask(e,t,r,n){if(typeof r!=="string"){return i(`git.${e}() requires a string 'repoPath'`)}return t(r,f(n,c),p(arguments))}Git2.prototype.clone=function(){return this._runTask(createCloneTask("clone",C,...arguments),h(arguments))};Git2.prototype.mirror=function(){return this._runTask(createCloneTask("mirror",_,...arguments),h(arguments))};Git2.prototype.mv=function(e,t){return this._runTask(F(e,t),h(arguments))};Git2.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(r,n){t.checkout(n.latest,e)}))}))};Git2.prototype.commit=function(e,t,r,n){const s=h(arguments);if(!l(e)){return this._runTask(i("git.commit: requires the commit message to be supplied as a string/string[]"),s)}return this._runTask(E(o(e),o(f(t,l,[])),[...f(r,a,[]),...p(arguments,0,true)]),s)};Git2.prototype.pull=function(e,t,r,n){return this._runTask(A(f(e,c),f(t,c),p(arguments)),h(arguments))};Git2.prototype.fetch=function(e,t){return this._runTask(R(f(e,c),f(t,c),p(arguments)),h(arguments))};Git2.prototype.silent=function(e){console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3");return this};Git2.prototype.tags=function(e,t){return this._runTask(Y(p(arguments)),h(arguments))};Git2.prototype.rebase=function(){return this._runTask(Z(["rebase",...p(arguments)]),h(arguments))};Git2.prototype.reset=function(e){return this._runTask(N(G(e),p(arguments)),h(arguments))};Git2.prototype.revert=function(e){const t=h(arguments);if(typeof e!=="string"){return this._runTask(i("Commit must be a string"),t)}return this._runTask(Z(["revert",...p(arguments,0,true),e]),t)};Git2.prototype.addTag=function(e){const t=typeof e==="string"?Q(e):i("Git.addTag requires a tag name");return this._runTask(t,h(arguments))};Git2.prototype.addAnnotatedTag=function(e,t){return this._runTask(H(e,t),h(arguments))};Git2.prototype.checkout=function(){const e=["checkout",...p(arguments,true)];return this._runTask(Z(e),h(arguments))};Git2.prototype.checkoutBranch=function(e,t,r){return this.checkout(["-b",e,t],h(arguments))};Git2.prototype.checkoutLocalBranch=function(e,t){return this.checkout(["-b",e],h(arguments))};Git2.prototype.deleteLocalBranch=function(e,t,r){return this._runTask(k(e,typeof t==="boolean"?t:false),h(arguments))};Git2.prototype.deleteLocalBranches=function(e,t,r){return this._runTask(y(e,typeof t==="boolean"?t:false),h(arguments))};Git2.prototype.branch=function(e,t){return this._runTask(v(p(arguments)),h(arguments))};Git2.prototype.branchLocal=function(e){return this._runTask(b(),h(arguments))};Git2.prototype.raw=function(e){const t=!Array.isArray(e);const r=[].slice.call(t?arguments:e,0);for(let e=0;e<r.length&&t;e++){if(!u(r[e])){r.splice(e,r.length-e);break}}r.push(...p(arguments,0,true));var n=h(arguments);if(!r.length){return this._runTask(i("Raw: must supply one or more command to execute"),n)}return this._runTask(Z(r),n)};Git2.prototype.submoduleAdd=function(e,t,r){return this._runTask($(e,t),h(arguments))};Git2.prototype.submoduleUpdate=function(e,t){return this._runTask(W(p(arguments,true)),h(arguments))};Git2.prototype.submoduleInit=function(e,t){return this._runTask(U(p(arguments,true)),h(arguments))};Git2.prototype.subModule=function(e,t){return this._runTask(q(p(arguments)),h(arguments))};Git2.prototype.listRemote=function(){return this._runTask(L(p(arguments)),h(arguments))};Git2.prototype.addRemote=function(e,t,r){return this._runTask(D(e,t,p(arguments)),h(arguments))};Git2.prototype.removeRemote=function(e,t){return this._runTask(I(e),h(arguments))};Git2.prototype.getRemotes=function(e,t){return this._runTask(M(e===true),h(arguments))};Git2.prototype.remote=function(e,t){return this._runTask(j(p(arguments)),h(arguments))};Git2.prototype.tag=function(e,t){const r=p(arguments);if(r[0]!=="tag"){r.unshift("tag")}return this._runTask(Z(r),h(arguments))};Git2.prototype.updateServerInfo=function(e){return this._runTask(Z(["update-server-info"]),h(arguments))};Git2.prototype.pushTags=function(e,t){const r=P({remote:f(e,c)},p(arguments));return this._runTask(r,h(arguments))};Git2.prototype.rm=function(e){return this._runTask(Z(["rm","-f",...o(e)]),h(arguments))};Git2.prototype.rmKeepLocal=function(e){return this._runTask(Z(["rm","--cached",...o(e)]),h(arguments))};Git2.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)};Git2.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)};Git2.prototype._catFile=function(e,t){var r=h(t);var n=["cat-file"];var s=t[0];if(typeof s==="string"){return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),r)}if(Array.isArray(s)){n.push.apply(n,s)}const o=e==="buffer"?J(n):Z(n);return this._runTask(o,r)};Git2.prototype.diff=function(e,t){const r=c(e)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):Z(["diff",...p(arguments)]);return this._runTask(r,h(arguments))};Git2.prototype.diffSummary=function(){return this._runTask(S(p(arguments,1)),h(arguments))};Git2.prototype.applyPatch=function(e){const t=!l(e)?i(`git.applyPatch requires one or more string patches as the first argument`):m(o(e),p([].slice.call(arguments,1)));return this._runTask(t,h(arguments))};Git2.prototype.revparse=function(){const e=["rev-parse",...p(arguments,true)];return this._runTask(Z(e,true),h(arguments))};Git2.prototype.show=function(e,t){return this._runTask(Z(["show",...p(arguments,1)]),h(arguments))};Git2.prototype.clean=function(e,t,r){const n=O(e);const s=n&&e.join("")||f(e,c)||"";const i=p([].slice.call(arguments,n?1:0));return this._runTask(x(s,i),h(arguments))};Git2.prototype.exec=function(e){const t={commands:[],format:"utf-8",parser(){if(typeof e==="function"){e()}}};return this._runTask(t)};Git2.prototype.clearQueue=function(){return this};Git2.prototype.checkIgnore=function(e,t){return this._runTask(T(o(f(e,l,[]))),h(arguments))};Git2.prototype.checkIsRepo=function(e,t){return this._runTask(w(f(e,c)),h(arguments))};t.exports=Git2}});var un={};__export(un,{esModuleFactory:()=>esModuleFactory,gitExportFactory:()=>gitExportFactory,gitInstanceFactory:()=>gitInstanceFactory});function esModuleFactory(e){return Object.defineProperties(e,{__esModule:{value:true},default:{value:e}})}function gitExportFactory(e,t){return Object.assign((function(...t){return e.apply(null,t)}),Ee,t||{})}function gitInstanceFactory(e,t){const r=new Me;const n=createInstanceConfig(e&&(typeof e==="string"?{baseDir:e}:e)||{},t);if(!folderExists(n.baseDir)){throw new b(n,`Cannot use simple-git on a directory that does not exist`)}if(Array.isArray(n.config)){r.add(commandConfigPrefixingPlugin(n.config))}r.add(completionDetectionPlugin(n.completion));n.progress&&r.add(progressMonitorPlugin(n.progress));n.timeout&&r.add(timeoutPlugin(n.timeout));n.spawnOptions&&r.add(spawnOptionsPlugin(n.spawnOptions));r.add(errorDetectionPlugin(errorDetectionHandler(true)));n.errors&&r.add(errorDetectionPlugin(n.errors));return new cn(n,r)}var cn;var ln=__esm({"src/lib/git-factory.ts"(){Se();Be();z();cn=an()}});var fn={};__export(fn,{gitP:()=>gitP});function gitP(...e){let t;let r=Promise.resolve();try{t=gitInstanceFactory(...e)}catch(e){r=Promise.reject(e)}function builderReturn(){return n}function chainReturn(){return r}const n=[...pn,...dn].reduce(((e,r)=>{const n=dn.includes(r);const s=n?asyncWrapper(r,t):syncWrapper(r,t,e);const i=n?chainReturn:builderReturn;Object.defineProperty(e,r,{enumerable:false,configurable:false,value:t?s:i});return e}),{});return n;function asyncWrapper(e,t){return function(...n){if(typeof n[n.length]==="function"){throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+e)}return r.then((function(){return new Promise((function(r,s){const callback=(e,t)=>{if(e){return s(toError(e))}r(t)};n.push(callback);t[e].apply(t,n)}))}))}}function syncWrapper(e,t,r){return(...n)=>{t[e](...n);return r}}}function toError(e){if(e instanceof Error){return e}if(typeof e==="string"){return new Error(e)}return new m(e)}var pn,dn;var hn=__esm({"src/lib/runners/promise-wrapped.ts"(){v();ln();pn=["customBinary","env","outputHandler","silent"];dn=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"]}});var{gitP:gn}=(hn(),d(fn));var{esModuleFactory:mn,gitInstanceFactory:vn,gitExportFactory:bn}=(ln(),d(un));e.exports=mn(bn(vn,{gitP:gn}))},318:(e,t,r)=>{"use strict";const n=r(37);const s=r(224);const i=r(621);const{env:o}=process;let a;if(i("no-color")||i("no-colors")||i("color=false")||i("color=never")){a=0}else if(i("color")||i("colors")||i("color=true")||i("color=always")){a=1}if("FORCE_COLOR"in o){if(o.FORCE_COLOR==="true"){a=1}else if(o.FORCE_COLOR==="false"){a=0}else{a=o.FORCE_COLOR.length===0?1:Math.min(parseInt(o.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,t){if(a===0){return 0}if(i("color=16m")||i("color=full")||i("color=truecolor")){return 3}if(i("color=256")){return 2}if(e&&!t&&a===undefined){return 0}const r=a||0;if(o.TERM==="dumb"){return r}if(process.platform==="win32"){const e=n.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in o){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in o))||o.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in o){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0}if(o.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(o.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)){return 1}if("COLORTERM"in o){return 1}return r}function getSupportLevel(e){const t=supportsColor(e,e&&e.isTTY);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,s.isatty(1))),stderr:translateLevel(supportsColor(true,s.isatty(2)))}},70:e=>{"use strict";e.exports=convert;function convert(e){if(e==null){return ok}if(typeof e==="string"){return typeFactory(e)}if(typeof e==="object"){return"length"in e?anyFactory(e):allFactory(e)}if(typeof e==="function"){return e}throw new Error("Expected function, string, or object as test")}function allFactory(e){return all;function all(t){var r;for(r in e){if(t[r]!==e[r])return false}return true}}function anyFactory(e){var t=[];var r=-1;while(++r<e.length){t[r]=convert(e[r])}return any;function any(){var e=-1;while(++e<t.length){if(t[e].apply(this,arguments)){return true}}return false}}function typeFactory(e){return type;function type(t){return Boolean(t&&t.type===e)}}function ok(){return true}},906:e=>{e.exports=color;function color(e){return"[33m"+e+"[39m"}},246:(e,t,r)=>{"use strict";e.exports=visitParents;var n=r(70);var s=r(906);var i=true;var o="skip";var a=false;visitParents.CONTINUE=i;visitParents.SKIP=o;visitParents.EXIT=a;function visitParents(e,t,r,i){var u;var c;if(typeof t==="function"&&typeof r!=="function"){i=r;r=t;t=null}c=n(t);u=i?-1:1;factory(e,null,[])();function factory(e,n,l){var f=typeof e==="object"&&e!==null?e:{};var p;if(typeof f.type==="string"){p=typeof f.tagName==="string"?f.tagName:typeof f.name==="string"?f.name:undefined;visit.displayName="node ("+s(f.type+(p?"<"+p+">":""))+")"}return visit;function visit(){var s=l.concat(e);var f=[];var p;var d;if(!t||c(e,n,l[l.length-1]||null)){f=toResult(r(e,l));if(f[0]===a){return f}}if(e.children&&f[0]!==o){d=(i?e.children.length:-1)+u;while(d>-1&&d<e.children.length){p=factory(e.children[d],d,s)();if(p[0]===a){return p}d=typeof p[1]==="number"?p[1]:d+u}}return f}}}function toResult(e){if(e!==null&&typeof e==="object"&&"length"in e){return e}if(typeof e==="number"){return[i,e]}return[e]}},199:(e,t,r)=>{"use strict";e.exports=visit;var n=r(246);var s=n.CONTINUE;var i=n.SKIP;var o=n.EXIT;visit.CONTINUE=s;visit.SKIP=i;visit.EXIT=o;function visit(e,t,r,s){if(typeof t==="function"&&typeof r!=="function"){s=r;r=t;t=null}n(e,t,overload,s);function overload(e,t){var n=t[t.length-1];var s=n?n.children.indexOf(e):null;return r(e,s,n)}}},598:function(e,t){"use strict";var r=this&&this.__assign||function(){r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};return r.apply(this,arguments)};var n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e};Object.defineProperty(t,"__esModule",{value:true});t.generateChangelog=t.calculateBump=t.commitToChagelogLine=t.indexByType=void 0;var s="BREAKING CHANGE";var indexByType=function(e){return e.reduce((function(e,t){var i;var o=t.parsed,a=o.type,u=o.notes;var c=u.some((function(e){var t=e.title;return t===s}));var l=c?"breaking":a;var f=n(n([],e[l]||[]),[t]);return r(r({},e),(i={},i[l]=f,i))}),{})};t.indexByType=indexByType;var commitToChagelogLine=function(e,t){var r=e.parsed,n=r.subject,s=r.scope;var i=n.replace(/(.+)\(#([0-9]+)\)/,"$1([#$2]("+t+"$2))");return"* "+(s?"**"+s+"**: ":"")+i};t.commitToChagelogLine=commitToChagelogLine;var calculateBump=function(e,t){if(!t.length){return""}for(var r=0;r<t.length;r++){var n=t[r],s=n.title,i=n.types;if(i.some((function(t){return e[t]&&e[t].length}))){return s}}return t[t.length-1].title};t.calculateBump=calculateBump;var i={asc:function(e,t){var r=e.date;var n=t.date;return r<n?-1:1},desc:function(e,t){var r=e.date;var n=t.date;return r>n?-1:1}};var generateChangelog=function(e){var r=e.commits,s=e.issuesUrl,o=e.typeLabels,a=e.bumpLabels,u=e.sortOrder,c=u===void 0?"desc":u,l=e.emptyMessage,f=l===void 0?"No changes":l;var p=t.indexByType(r);var mapCommit=function(e){return t.commitToChagelogLine(e,s)};var d=o.map((function(e){var t=e.title,r=e.types;var s=r.map((function(e){return p[e]||[]})).flat().sort(i[c]);if(!s.length){return null}return n(["## "+t],s.map(mapCommit)).join("\n")})).filter((function(e){return e!==null})).join("\n\n")||f;var h=t.calculateBump(p,a);return{body:d,bump:h}};t.generateChangelog=generateChangelog},373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getConfig=void 0;var n=r(186);var s=r(147);var getConfig=function(e){n.debug("Loading config file: "+e);var t=JSON.parse(s.readFileSync(e,{encoding:"utf8"}));n.debug("Loaded config: "+t);var r=t.typeLabels,i=t.bumpLabels,o=t.issuesUrl,a=t.sortOrder;return{typeLabels:r,bumpLabels:i,issuesUrl:o,sortOrder:a}};t.getConfig=getConfig},324:function(e,t,r){"use strict";var n=this&&this.__assign||function(){n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};return n.apply(this,arguments)};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(i=o[0]&2?s["return"]:o[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;if(s=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;s=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];s=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var a=o(r(17));var u=r(373);var c=r(350);var l=r(598);var generate=function(e){var t=e.from,r=e.to,o=e.configFile;return s(void 0,void 0,void 0,(function(){var e,s,f,p;return i(this,(function(i){switch(i.label){case 0:e=u.getConfig(o||a.default.join(__dirname,"defaultConfig.json"));f=e.issuesUrl;if(f)return[3,2];return[4,c.getIssuesPath()];case 1:f=i.sent();i.label=2;case 2:s=f;return[4,c.getCommits({from:t,to:r})];case 3:p=i.sent();return[2,l.generateChangelog(n(n({},e),{commits:p,issuesUrl:s}))]}}))}))};t["default"]=generate},350:function(e,t,r){"use strict";var n=this&&this.__assign||function(){n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};return n.apply(this,arguments)};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var i=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(i=o[0]&2?s["return"]:o[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;if(s=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;s=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];s=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var o=this&&this.__rest||function(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++){if(t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s]))r[n[s]]=e[n[s]]}return r};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.getIssuesPath=t.getRepositoryUrl=t.getCommits=void 0;var u=a(r(103));var c=r(523);var l=u.default();var getCommits=function(e){var t=e.from,r=e.to;return s(void 0,void 0,void 0,(function(){var e,s;return i(this,(function(i){switch(i.label){case 0:return[4,l.log({from:t,to:r})];case 1:e=i.sent();s=e.all.map((function(e){var t=e.message,r=e.body,s=o(e,["message","body"]);try{return n(n({},s),{parsed:c.toConventionalChangelogFormat(c.parser(""+t+(r&&"\n"+r)))})}catch(e){}return null}));return[2,s.filter((function(e){return e!==null}))]}}))}))};t.getCommits=getCommits;var getRepositoryUrl=function(){return s(void 0,void 0,void 0,(function(){var e,t,r,n,s,o,a,u;return i(this,(function(i){switch(i.label){case 0:return[4,l.listConfig()];case 1:e=i.sent().values[".git/config"]["remote.origin.url"];t=Array.isArray(e)?e[0]:e;r=/git@github\.com:(.+)\.git/;n=/https:\/\/github\.com\/(.+)/;s="https://github.com/$1";for(o=0,a=[r,n];o<a.length;o++){u=a[o];if(u.test(t)){return[2,t.replace(r,s)]}}return[2,null]}}))}))};t.getRepositoryUrl=getRepositoryUrl;var getIssuesPath=function(){return s(void 0,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return[4,t.getRepositoryUrl()];case 1:e=r.sent();if(!e){throw new Error("Repository url can not be determined from local git config")}return[2,e+"/issues/"]}}))}))};t.getIssuesPath=getIssuesPath},144:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(i=o[0]&2?s["return"]:o[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;if(s=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;s=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];s=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var o=r(186);var a=i(r(17));var u=i(r(324));var run=function(){return n(void 0,void 0,void 0,(function(){var e,t,r,n,i,c,l;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);e=o.getInput("from");t=o.getInput("to");r=o.getInput("config-file")||a.default.join(__dirname,"defaultConfig.json");return[4,u.default({from:e,to:t,configFile:r})];case 1:n=s.sent(),i=n.body,c=n.bump;o.setOutput("body",i);o.setOutput("bump",c);return[3,3];case 2:l=s.sent();o.setFailed(l.message);return[3,3];case 3:return[2]}}))}))};run()},81:e=>{"use strict";e.exports=require("child_process")},147:e=>{"use strict";e.exports=require("fs")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")},224:e=>{"use strict";e.exports=require("tty")},837:e=>{"use strict";e.exports=require("util")}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var s=t[r]={exports:{}};var i=true;try{e[r].call(s.exports,s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete t[r]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(144);module.exports=r})();